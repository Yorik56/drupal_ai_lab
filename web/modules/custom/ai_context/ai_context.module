<?php

declare(strict_types=1);

/**
 * @file
 * AI Context module file.
 */

use Drupal\Core\Routing\RouteMatchInterface;

/**
 * Implements hook_help().
 */
function ai_context_help($route_name, RouteMatchInterface $route_match) {
  switch ($route_name) {
    case 'help.page.ai_context':
      return '<p>' . t('Provides context-aware prompt generation for AI module with Drupal content, internal links, and site metadata.') . '</p>';
  }
}

/**
 * Implements hook_ai_prompt_alter().
 *
 * Allows modules to alter AI prompts before they are sent to providers.
 *
 * @param string $prompt
 *   The prompt to alter.
 * @param array $context
 *   Contextual information about the prompt.
 */
function ai_context_ai_prompt_alter(string &$prompt, array $context): void {
  // This hook can be implemented by other modules to alter prompts.
  // Example implementation in custom modules:
  // $context_service = \Drupal::service('ai_context.context_service');
  // $drupal_context = $context_service->collectContext($context);
  // $prompt = $context_service->enrichPrompt($prompt, $drupal_context);
}

